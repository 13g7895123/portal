@tailwind base;
@tailwind components;
@tailwind utilities;

/* 繁體中文字型 */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');

@layer base {
  html {
    font-family: 'Noto Sans TC', sans-serif;
  }

  /* 基礎樣式重置 */
  body {
    @apply text-gray-900 bg-gray-50;
  }

  /* 優化行高與字距 */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold;
    letter-spacing: 0.02em;
  }
}

@layer components {
  /* 卡片元件 */
  .card {
    @apply bg-white rounded-lg shadow-md p-6;
  }

  .card-bordered {
    @apply bg-white rounded-lg border border-gray-200 p-6;
  }

  /* 表單容器 */
  .form-container {
    @apply w-full max-w-md mx-auto p-6 bg-white rounded-lg shadow-md;
  }

  /* 按鈕變體 */
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }

  .btn-secondary {
    @apply btn bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400;
  }

  .btn-danger {
    @apply btn bg-error-600 text-white hover:bg-error-700 focus:ring-error-500;
  }

  /* 輸入框樣式 */
  .input {
    @apply w-full px-4 py-3 border rounded-lg transition-colors
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
           disabled:bg-gray-100 disabled:cursor-not-allowed;
  }

  .input-error {
    @apply input border-error-500 focus:ring-error-500 focus:border-error-500;
  }

  /* 提示訊息樣式 */
  .alert {
    @apply px-4 py-3 rounded-lg border flex items-center gap-3 animate-fade-in;
  }

  .alert-success {
    @apply alert bg-success-50 border-success-200 text-success-700;
  }

  .alert-error {
    @apply alert bg-error-50 border-error-200 text-error-700;
  }

  .alert-warning {
    @apply alert bg-warning-50 border-warning-200 text-warning-700;
  }

  /* 文字樣式 */
  .text-error {
    @apply text-sm text-error-600;
  }

  .text-muted {
    @apply text-sm text-gray-500;
  }

  /* 載入動畫 */
  .spinner {
    @apply inline-block w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin;
  }

  /* 頁面容器 */
  .page-container {
    @apply min-h-screen flex items-center justify-center p-4 bg-gray-50;
  }

  /* 導航列 */
  .navbar {
    @apply bg-white shadow-sm px-6 py-4 flex items-center justify-between;
  }
}

@layer utilities {
  /* 聚焦樣式 - 符合無障礙標準 */
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2;
  }

  /* 截斷文字 */
  .truncate-2-lines {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3-lines {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* 平滑滾動 */
  .smooth-scroll {
    scroll-behavior: smooth;
  }

  /* 隱藏滾動條但保持功能 */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* 回應式間距 */
  .section-padding {
    @apply py-8 px-4 sm:py-12 sm:px-6 lg:py-16 lg:px-8;
  }

  /* 安全區域（避開瀏覽器 UI） */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
